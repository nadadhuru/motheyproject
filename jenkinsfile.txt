#!/bin/
def path = "motheyproject"

pipeline
{
agent any

  stages
    {
		if($$buildchoice == "Compile")
		{
			stage("Compile")
			{
				steps
					{
						step
							{
								dir(path)
								bat 'mvn compile'
							}
					}
			}
		}
		else if($$buildchoice == "Run Test")
		{
			stage("Test")
				{
					steps
						{
							step
								{
									dir(path)
									bat 'mvn test'
								}
						}
				}
		}
		else
		{
				stage("Deploy")
				{
					steps
						{
							step
								{
									dir(path)
									bat 'mvn deploy'
								}
						}
				}
		}
    
}
}
